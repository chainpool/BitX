{"version":3,"sources":["routes/CreateAccount/KnowAbout.module.scss","routes/AccountDetail/AccountReceive.module.scss","components/RouterGo/index.module.scss","resources/Bitx.png","routes/CreateAccount/index.module.scss","routes/App/CommonLayOut/Header.module.scss","routes/ImportAccount/ImportMnemonicOrSecret.module.scss","routes/AccountDetail/AccountSend.module.scss","components/Input/index.module.scss","utils/ipc.js","constants/index.js","utils/bitX.js","utils/patterns.js","utils/bitJS.js","utils/request.js","utils/index.js","components/Mixin/index.js","components/RouterGo/index.js","components/Input/index.js","components/Clipboard/index.js","components/Tooltip/index.js","service/index.js","store/actions/index.js","components/Modal/index.js","routes/AccountList/SelectModeGetAccount.js","routes/AccountList/index.js","routes/CreateAccount/KnowAbout.js","routes/CreateAccount/SaveMnemonic.js","routes/CreateAccount/CheckMnemonic.js","routes/Components/SetPassword.js","routes/Components/SignModal.js","routes/CreateAccount/index.js","routes/ImportAccount/ImportMnemonic.js","routes/ImportAccount/ImportSecretKey.js","routes/ImportAccount/index.js","routes/AccountDetail/AccountInfo.js","routes/AccountDetail/AccountReceive.js","routes/AccountDetail/AccountSend.js","routes/AccountDetail/index.js","routes/App/routers.js","routes/App/CommonLayOut/Header.js","routes/App/CommonLayOut/index.js","routes/App/index.js","serviceWorker.js","store/reducers/account.js","store/reducers/mnemonic.js","store/reducers/balance.js","store/reducers/utxo.js","store/reducers/pageTitle.js","store/reducers/modal.js","store/reducers/goBack.js","store/index.js","index.js","routes/AccountList/index.module.scss","routes/CreateAccount/CheckMnemonic.module.scss","components/Modal/index.module.scss","components/Tooltip/index.module.scss","routes/AccountList/SelectModeGetAccount.module.scss","routes/Components/SetPassword.module.scss","routes/Components/SignModal.module.scss","routes/AccountDetail/AccountInfo.module.scss","routes/AccountDetail/index.module.scss","components/Detail/bitcoin.js","components/Clipboard/index.module.scss","routes/CreateAccount/SaveMnemonic.module.scss","routes/ImportAccount/index.module.scss","routes/App/CommonLayOut/index.module.scss"],"names":["module","exports","KnowAbout","content","AccountReceive","desc","url","__webpack_require__","p","CreateAccount","Header","ImportMnemonic","generatewords","errwarn","AccountSend","userInput","addreturn","returncontent","input","ASCII","label","button","container","suffix","errMsg","ipcRenderer","PATH","window","require","ipc","bitX","generateMnemonic","bip39","generateAccount","_ref","account","name","mnemonic","password","wif","params","N","r","seed","mnemonicToSeed","child1","bip32","fromSeed","derivePath","p2pkh","bitcoin","payments","pubkey","publicKey","network","networks","testnet","encryptedKey","bip38","encrypt","privateKey","address","keyPair","ECPair","fromWIF","compressed","console","log","decrypt","decryptPair","result","fromPrivateKey","sign","utxos","changeAddress","targetAddress","amount","fee","opReturnHex","ecpair","compose","Patterns","required","value","arguments","length","undefined","equal","value1","value2","strictEqual","smaller","inputValue","baseValue","isNaN","Number","smallerOrEqual","characterLength","minLength","maxLength","concat","isBTCAddress","WAValidator","validate","isValidMnemonic","validateMnemonic","isValidPrivateKey","_unused","isValidPassword","e","check","apply","error","bitJS","sendSync","payload","JSON","parse","_len","Array","_key","saveAccount","accounts","send","stringify","localSave","set","getAccount","get","_len2","_key2","_len3","_key3","update","forceUpdate","on","confirm","arg","fetchFromHttp","_ref$method","method","methodAlias","_ref$params","body","_ref$timeOut","timeOut","rest","Object","objectWithoutProperties","id","uniqid","message","jsonrpc","request","fetch","objectSpread","headers","Accept","Content-Type","toUpperCase","then","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","status","abrupt","json","sent","Promise","reject","stop","_x","this","catch","err","race","resovle","setTimeout","isEmpty","isFunction","fun","isString","key","store","remove","clearAll","formatNumber","toPrecision","precision","multiplication","BigNumber","multipliedBy","Math","pow","toFixed","dividedBy","toBtcPrecision","Device","device","mobile","Mixin","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","openModal","data","setModal","show","closeModal","changeState","callback","_isMounted","setState","_this2","pageTitle","setPageTitle","state","step","setGoBack","history","goBack","startInit","Component","RouterGo","withRouter","_this$props","children","_this$props$Ele","Ele","_this$props$go","go","_this$props$go2","pathname","className","_this$props$isOutSide","isOutSide","onClick","test","react_default","createElement","styles","rel","href","target","style","cursor","push","routerGo","PureComponent","Input","_Component","inherits","createClass","onChange","onBlur","prefix","placeholder","isPassword","isTextArea","assign","type","trim","Clipboard","uid","_this$props$outInner","outInner","ClipboardJS","width","_this$props$outInner2","classNames","Tooltip_Tooltip","tip","data-clipboard-target","marginLeft","Tooltip","_this$props$type","_this$props$size","size","_this$props$offset","offset","_this$props$place","place","_this$props$tip","Fragment","data-for","data-tip","dist_default","effect","multiline","stopPropagation","ReactTooltip","document","getElementById","event","isCapture","delayShow","afterShow","hide","endpoint","submitEndpoint","addr","response","_callee2","_context2","broadcastTx","_x3","_broadcastTx","_callee3","tx","_context3","raw","modal","getAccountUtxos","_x2","_getUtxos","getUtxos","getAllAccountBalance","dispatch","getState","_loop","i","_getBalance","getBalance","findOne","balanceShow","balance","Modal","title","_this$props$modal","connect","SelectModeGetAccount","changeClose","_this$props$accounts","alt","src","BitX","height","components_RouterGo","AccountList","prevState","close","_props$accounts","map","item","index","search","unit","AccountList_SelectModeGetAccount","changeStep","SaveMnemonic","CheckMnemonic","checkAll","checkUserInput","_this$state$userInput","join","userInputErrMsg","every","mnemonicSort","split","sort","b","random","_this$state","getPostion","findIndex","splice","SetPassword","nameErrMsg","passwordErrMsg","confirmPassword","confirmPasswordErrMsg","checkName","checkPassword","checkEqual","checkConfirmPassword","_this$state2","addAccount","Input_Input","slice","SignModal","hash","_this$props$currentAc","currentAccount","_this$props$modal$dat","_this$props$currentAc2","components_Modal","t0","KnowAbout_KnowAbout","SaveMnemonic_SaveMnemonic","CheckMnemonic_CheckMnemonic","Components_SetPassword","replace","ImportSecretKey","ImportAccount","activeIndex","ImportMnemonic_ImportMnemonic","ImportSecretKey_ImportSecretKey","AccountInfo","Clipboard_Clipboard","AccountAccept","QRious","element","addressErrMsg","amountErrMsg","addOpReturn","hex","hexErrMsg","feeErrMsg","checkAddress","checkAmount","checkAmountAndFee","checkFee","BTCAmount","feeInSatoshi","enough","checkHex","_this$state3","_this$state4","str","hexString","startsWith","substring","strOut","x","String","fromCharCode","parseInt","substr","hexToAscii","color","rows","_callback","constructTx","Error","SignModal_SignModal","AccountDetail","AccountInfo_AccountInfo","background","AccountDetail_AccountSend","AccountReceive_AccountAccept","routers","component","path","location","CommonLayOut","prevProps","_prevProps$accounts","prevAccounts","_this$props2","_this$props2$accounts","_this$props2$history$","queryString","filter","Header_Header","Switch","Route","exact","render","Redirect","to","App","setAttribute","BrowserRouter","App_CommonLayOut","Boolean","hostname","match","action","toConsumableArray","saveParts","localAccounts","balances","combineReducers","newMnemonic","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","rootReducer","applyMiddleware","thunk","initReactFastclick","ReactDOM","es","routes_App","navigator","serviceWorker","ready","registration","unregister","listtitle","seperate","writedesc","warn","allwords","active","Modalcontainer","rootModalDesktop","header","tool","large","bitx","routerbutton","inputcontent","success","watchother","selectmode","Buffer","d","__webpack_exports__","bignumber_js__WEBPACK_IMPORTED_MODULE_0__","bignumber_js__WEBPACK_IMPORTED_MODULE_0___default","n","bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_1__","bitcoinjs_lib__WEBPACK_IMPORTED_MODULE_1___default","reduce","utxo","filteredUtxos","unspents","nonZeroUnspents","sum","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","return","filterUnspentsByAmount","txb","TransactionBuilder","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","addInput","mintTxid","mintIndex","addOutput","change","embed","from","output","forEach","build","toHex","clipboard","ellipse"],"mappings":"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","file":"static/js/main.12288b84.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"KnowAbout\":\"KnowAbout_KnowAbout__Bn6Bp\",\"content\":\"KnowAbout_content__3ZC3u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AccountReceive\":\"AccountReceive_AccountReceive__2fTzv\",\"desc\":\"AccountReceive_desc__Or9TB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"url\":\"RouterGo_url__2u7y-\"};","module.exports = __webpack_public_path__ + \"static/media/Bitx.41fc5ea2.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CreateAccount\":\"CreateAccount_CreateAccount__39hWI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__2CMTx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImportMnemonic\":\"ImportMnemonicOrSecret_ImportMnemonic__2BDkT\",\"desc\":\"ImportMnemonicOrSecret_desc__3mRTl\",\"generatewords\":\"ImportMnemonicOrSecret_generatewords__1_2yl\",\"errwarn\":\"ImportMnemonicOrSecret_errwarn__1lcBr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AccountSend\":\"AccountSend_AccountSend__QmSI2\",\"userInput\":\"AccountSend_userInput__1C639\",\"addreturn\":\"AccountSend_addreturn__3Av69\",\"returncontent\":\"AccountSend_returncontent__3W2EE\",\"input\":\"AccountSend_input__1cYxC\",\"ASCII\":\"AccountSend_ASCII__zTmJb\",\"label\":\"AccountSend_label__3Kxd7\",\"button\":\"AccountSend_button__xc9JL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Input_container__1i2Xt\",\"label\":\"Input_label__19jTK\",\"content\":\"Input_content__3XsMh\",\"input\":\"Input_input__2BivL\",\"suffix\":\"Input_suffix__1H2we\",\"errMsg\":\"Input_errMsg__xq-rx\"};","let ipcRenderer;\r\nif (window.require) {\r\n  ({ ipcRenderer } = window.require(\"electron\"));\r\n}\r\n\r\nexport const ipc = ipcRenderer;\r\n","export const PATH = {\r\n  home: '/',\r\n  createaccount: '/createaccount',\r\n  importaccount: '/importAccount',\r\n  accountdetail: '/accountdetail',\r\n};\r\n","import bip39 from \"bip39\";\r\nimport bip32 from \"bip32\";\r\nimport bip38 from \"bip38\";\r\nimport bitcoin from \"bitcoinjs-lib\";\r\nimport { compose } from \"../components/Detail/bitcoin\";\r\n\r\nexport const bitX = {\r\n  generateMnemonic: () => bip39.generateMnemonic(),\r\n  generateAccount: ({ name, mnemonic, password, wif }) => {\r\n    let account;\r\n    const path = \"m/44'/1'/0'/0/0\";\r\n    const params = {\r\n      N: 128, // specified by BIP38\r\n      r: 8,\r\n      p: 8\r\n    };\r\n    if (name && mnemonic && password) {\r\n      const seed = bip39.mnemonicToSeed(mnemonic);\r\n      const root = bip32.fromSeed(seed);\r\n      const child1 = root.derivePath(path);\r\n      const p2pkh = bitcoin.payments.p2pkh({\r\n        pubkey: child1.publicKey,\r\n        network: bitcoin.networks.testnet\r\n      });\r\n      const encryptedKey = bip38.encrypt(\r\n        child1.privateKey,\r\n        true,\r\n        password,\r\n        null,\r\n        params\r\n      );\r\n      account = { name, address: p2pkh.address, encryptedKey };\r\n    } else if (name && wif && password) {\r\n      // TODO: 需要根据环境变量来切换network\r\n      const keyPair = bitcoin.ECPair.fromWIF(wif, bitcoin.networks.testnet);\r\n      const { address } = bitcoin.payments.p2pkh({\r\n        pubkey: keyPair.publicKey,\r\n        network: bitcoin.networks.testnet\r\n      });\r\n      const encryptedKey = bip38.encrypt(\r\n        keyPair.privateKey,\r\n        keyPair.compressed,\r\n        password,\r\n        console.log,\r\n        params\r\n      );\r\n      account = { name, address, encryptedKey };\r\n    }\r\n    return account;\r\n  },\r\n  decrypt: (encryptedKey, password) => {\r\n    return bip38.decrypt(encryptedKey, password, () => {}, {\r\n      N: 128,\r\n      r: 8,\r\n      p: 8\r\n    });\r\n  },\r\n  decryptPair: (encryptedKey, password) => {\r\n    const result = bitX.decrypt(encryptedKey, password);\r\n    return bitcoin.ECPair.fromPrivateKey(result.privateKey, {\r\n      compressed: result.compressed,\r\n      network: bitcoin.networks.testnet\r\n    });\r\n  },\r\n  sign: (\r\n    utxos,\r\n    changeAddress,\r\n    targetAddress,\r\n    amount,\r\n    fee,\r\n    opReturnHex,\r\n    encryptedKey,\r\n    password\r\n  ) => {\r\n    const ecpair = bitX.decryptPair(encryptedKey, password);\r\n    return compose(\r\n      utxos,\r\n      changeAddress,\r\n      targetAddress,\r\n      amount,\r\n      fee,\r\n      opReturnHex,\r\n      ecpair\r\n    );\r\n  }\r\n};\r\n","import bip39 from \"bip39\";\r\nimport bitcoin from \"bitcoinjs-lib\";\r\nimport bip38 from \"bip38\";\r\nimport WAValidator from \"wallet-address-validator\";\r\n\r\nexport const Patterns = {\r\n  required: (value, errMsg = \"必填\") => {\r\n    return !value && value !== 0 ? errMsg : \"\";\r\n  },\r\n  equal: (value1, value2, errMsg = \"不相等\") => {\r\n    if (value1 && value2) {\r\n      return value1 === value2 ? \"\" : errMsg;\r\n    }\r\n    return \"\";\r\n  },\r\n  strictEqual: (value1, value2, errMsg = \"不相等\") => {\r\n    return value1 === value2 ? \"\" : errMsg;\r\n  },\r\n  smaller: (inputValue, baseValue, errMsg = \"余额不足\") => {\r\n    if (!isNaN(baseValue)) {\r\n      return Number(inputValue) >= Number(baseValue) ? errMsg : \"\";\r\n    }\r\n    return errMsg;\r\n  },\r\n  smallerOrEqual: (inputValue, baseValue, errMsg = \"余额不足\") => {\r\n    if (!isNaN(inputValue) && !isNaN(baseValue)) {\r\n      return Number(inputValue) > Number(baseValue) ? errMsg : \"\";\r\n    }\r\n  },\r\n  characterLength: (inputValue = \"\", minLength, maxLength) => {\r\n    let result = inputValue.length >= minLength ? \"\" : `最少${minLength}个字符`;\r\n    result = inputValue.length > maxLength ? `最多${maxLength}个字符` : result;\r\n    return result;\r\n  },\r\n  isBTCAddress: (value, errMsg = \"地址格式错误\") => {\r\n    return WAValidator.validate(value, \"BTC\", \"test\") ? \"\" : errMsg;\r\n  },\r\n  isValidMnemonic: (value, errMsg = \"助记词格式错误\") => {\r\n    return bip39.validateMnemonic(value) ? \"\" : errMsg;\r\n  },\r\n  isValidPrivateKey: (value, errMsg = \"私钥格式错误\") => {\r\n    try {\r\n      bitcoin.ECPair.fromWIF(value, bitcoin.networks.testnet);\r\n      return \"\";\r\n    } catch {\r\n      return errMsg;\r\n    }\r\n  },\r\n  isValidPassword: (encryptedKey, password, errMsg = \"密码错误\") => {\r\n    try {\r\n      bip38.decrypt(encryptedKey, password, () => {}, {\r\n        N: 128,\r\n        r: 8,\r\n        p: 8\r\n      });\r\n    } catch (e) {\r\n      return errMsg;\r\n    }\r\n  },\r\n  check: value => {\r\n    return (...params) => {\r\n      if (!Patterns[value]) {\r\n        return console.error(\"check对应的方法必须存在\");\r\n      }\r\n      return Patterns[value](...params);\r\n    };\r\n  }\r\n};\r\n","import { ipc } from \"./ipc\";\r\nimport { bitX } from \"./bitX\";\r\nimport { localSave } from \"./index\";\r\nimport { Patterns } from \"./patterns\";\r\n\r\nexport const bitJS = {\r\n  generateMnemonic: () => {\r\n    if (ipc) {\r\n      return ipc.sendSync(\"GENERATE_MNEMONIC\");\r\n    } else {\r\n      return bitX.generateMnemonic();\r\n    }\r\n  },\r\n  generateAccount: payload => {\r\n    if (ipc) {\r\n      return JSON.parse(ipc.sendSync(\"GENERATE_ACCOUNT\", payload));\r\n    } else {\r\n      return bitX.generateAccount(payload);\r\n    }\r\n  },\r\n\r\n  decrypt: (...payload) => {\r\n    if (ipc) {\r\n      return ipc.sendSync(\"DECRYPT\", payload);\r\n    } else {\r\n      return bitX.decrypt(...payload);\r\n    }\r\n  },\r\n  saveAccount: accounts => {\r\n    if (ipc) {\r\n      ipc.send(\"SAVE_ACCOUNT\", JSON.stringify(accounts));\r\n    } else {\r\n      localSave.set(\"accounts\", accounts);\r\n    }\r\n  },\r\n  getAccount: () => {\r\n    if (ipc) {\r\n      return JSON.parse(ipc.sendSync(\"GET_ACCOUNT\"));\r\n    } else {\r\n      return localSave.get(\"accounts\");\r\n    }\r\n  },\r\n  sign: (...payload) => {\r\n    if (ipc) {\r\n      return ipc.sendSync(\"SIGN\", payload);\r\n    } else {\r\n      return bitX.sign(...payload);\r\n    }\r\n  },\r\n  isValidPassword: (...payload) => {\r\n    if (ipc) {\r\n      return ipc.sendSync(\"IS_VALID_PASSWORD\", payload);\r\n    } else {\r\n      return Patterns.check(\"isValidPassword\")(...payload);\r\n    }\r\n  },\r\n  update: () => {\r\n    if (ipc) {\r\n      ipc.send(\"UPDATE\");\r\n    }\r\n  },\r\n  forceUpdate: () => {\r\n    if (ipc) {\r\n      ipc.send(\"FORCE_UPDATE\");\r\n    }\r\n  }\r\n};\r\nif (ipc) {\r\n  ipc.on(\"isForceUpdate\", () => {\r\n    const res = window.confirm(\"已下载最新版本，是否立即安装?\");\r\n    if (res) {\r\n      bitJS.forceUpdate();\r\n    }\r\n  });\r\n  ipc.on(\"autoUpdater\", (e, arg) => {\r\n    console.log(arg);\r\n  });\r\n}\r\n","import uniqid from \"uniqid\";\r\n\r\nexport const fetchFromHttp = ({\r\n  url,\r\n  method = \"POST\",\r\n  methodAlias,\r\n  params = [],\r\n  body,\r\n  timeOut = 10000,\r\n  ...rest\r\n}) => {\r\n  const id = uniqid();\r\n  const message = body\r\n    ? JSON.stringify(body)\r\n    : JSON.stringify({ id, jsonrpc: \"2.0\", method: methodAlias, params });\r\n  const request = () =>\r\n    fetch(url, {\r\n      method: method,\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      ...(method.toUpperCase() === \"GET\" ? {} : { body: message }),\r\n      ...rest\r\n    })\r\n      .then(async res => {\r\n        if (res.status >= 200 && res.status < 300) {\r\n          return res.json();\r\n        } else {\r\n          const result = await res.json();\r\n          return Promise.reject({\r\n            status: res.status,\r\n            message: result\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        return Promise.reject(err.message || err);\r\n      });\r\n  if (timeOut) {\r\n    return Promise.race([\r\n      request(),\r\n      new Promise((resovle, reject) => {\r\n        setTimeout(() => {\r\n          reject(\"请求超时\");\r\n        }, timeOut);\r\n      })\r\n    ]);\r\n  } else {\r\n    return request();\r\n  }\r\n};\r\n","import store from \"store\";\r\nimport { BigNumber } from \"bignumber.js\";\r\nimport { default as queryString } from \"query-string\";\r\nimport device from \"current-device\";\r\n\r\nexport * from \"./ipc\";\r\nexport * from \"./bitJS\";\r\nexport * from \"./patterns\";\r\nexport * from \"./request\";\r\n\r\nexport const isEmpty = value => {\r\n  return isNaN(value) || value === undefined || value === \"\" || value === {};\r\n};\r\nexport const isNumber = value => typeof value === \"number\";\r\n\r\nexport const isFunction = fun => typeof fun === \"function\";\r\n\r\nexport const isString = value => typeof value === \"string\";\r\n\r\nexport const localSave = {\r\n  get: key => {\r\n    return store.get(key);\r\n  },\r\n  set: (key, value) => {\r\n    store.set(key, value);\r\n  },\r\n  remove: key => {\r\n    store.remove(key);\r\n  },\r\n  clearAll: () => {\r\n    store.clearAll();\r\n  }\r\n};\r\n\r\nexport const formatNumber = {\r\n  toPrecision: (value, precision = 0, multiplication = false) => {\r\n    precision = Number(precision);\r\n    if (isEmpty(value) || isEmpty(precision) || isNaN(value)) return \"\";\r\n    if (multiplication)\r\n      return new BigNumber(value)\r\n        .multipliedBy(Math.pow(10, precision))\r\n        .toFixed(0);\r\n    return new BigNumber(value)\r\n      .dividedBy(Math.pow(10, precision))\r\n      .toFixed(precision);\r\n  },\r\n  toBtcPrecision: (value, multiplication = false) => {\r\n    return formatNumber.toPrecision(value, 8, multiplication);\r\n  }\r\n};\r\n\r\nexport const setBlankSpace = (value, unit) => {\r\n  if (isEmpty(value)) return unit;\r\n  return `${value} ${unit}`;\r\n};\r\n\r\nexport const parseQueryString = payload => {\r\n  return queryString.parse(payload);\r\n};\r\n\r\nexport const Device = {\r\n  isMobile: () => device.mobile(),\r\n  isDesktop: () => device.desktop()\r\n};\r\n","import { Component } from \"react\";\r\nimport { isFunction } from \"../../utils\";\r\n\r\nexport default class Mixin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this._isMounted = true;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.pageTitle && isFunction(this.props.setPageTitle)) {\r\n      this.props.setPageTitle(this.pageTitle);\r\n    }\r\n    if (this.state && this.state.step && isFunction(this.props.setGoBack)) {\r\n      this.props.setGoBack(() => {\r\n        if (this.state.step > 1) {\r\n          this.setState({\r\n            step: this.state.step - 1\r\n          });\r\n        } else if (this.props.history) {\r\n          this.props.history.goBack();\r\n        }\r\n      });\r\n    }\r\n    isFunction(this.startInit) && this.startInit();\r\n  }\r\n\r\n  openModal = ({ name, data }) => {\r\n    if (this.props.setModal) {\r\n      this.props.setModal({\r\n        name,\r\n        data,\r\n        show: true\r\n      });\r\n    } else {\r\n      console.log(\r\n        \"this.props.setModal不存在，请把容器组件的setModal传递给当前组件\"\r\n      );\r\n    }\r\n  };\r\n\r\n  closeModal = () => {\r\n    if (this.props.setModal) {\r\n      this.props.setModal({\r\n        name: \"\",\r\n        data: \"\",\r\n        show: false\r\n      });\r\n    } else {\r\n      console.log(\r\n        \"this.props.setModal不存在，请把容器组件的setModal传递给当前组件\"\r\n      );\r\n    }\r\n  };\r\n\r\n  changeState = (payload = {}, callback) => {\r\n    if (this._isMounted) {\r\n      this.setState(payload, () => {\r\n        isFunction(callback) && callback(payload);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { isNumber, isFunction } from '../../utils';\r\nimport * as styles from './index.module.scss';\r\n\r\n@withRouter\r\nclass RouterGo extends PureComponent {\r\n  render() {\r\n    const {\r\n      children,\r\n      history,\r\n      Ele = 'span',\r\n      go = {},\r\n      go: { pathname } = {},\r\n      className,\r\n      isOutSide = false,\r\n      onClick,\r\n    } = this.props;\r\n    const routerGo = (payload) => {\r\n      if (isNumber(payload)) return history.go(payload);\r\n      payload && history.push(payload);\r\n    };\r\n\r\n    const url = !/http/.test(pathname) ? `http://${pathname}` : pathname;\r\n\r\n    return isOutSide ? (\r\n      <a className={styles.url} rel=\"noopener noreferrer\" href={url} target=\"_blank\">\r\n        {children || pathname}\r\n      </a>\r\n    ) : (\r\n      <Ele\r\n        style={{ cursor: 'pointer' }}\r\n        className={className}\r\n        onClick={() => {\r\n          routerGo(go);\r\n          isFunction(onClick) && onClick();\r\n        }}>\r\n        {children}\r\n      </Ele>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RouterGo;\r\n","import React, { Component } from 'react';\r\n\r\nimport * as styles from './index.module.scss';\r\n\r\nexport class Input extends Component {\r\n  render() {\r\n    const {\r\n      label,\r\n      errMsg,\r\n      value,\r\n      onChange,\r\n      onBlur,\r\n      prefix,\r\n      suffix,\r\n      placeholder,\r\n      isPassword,\r\n      isTextArea,\r\n      ...rest\r\n    } = this.props;\r\n    const Ele = isTextArea ? 'textarea' : 'input';\r\n    return (\r\n      <div className={styles.container}>\r\n        {label && <div className={styles.label}>{label}</div>}\r\n        <div className={styles.content}>\r\n          {prefix && <div className={styles.prefix}>{prefix}</div>}\r\n\r\n          <Ele\r\n            className={styles.input}\r\n            type={isPassword ? 'password' : 'text'}\r\n            placeholder={placeholder}\r\n            value={value}\r\n            onChange={(e) => {\r\n              onChange(e.target.value.trim());\r\n            }}\r\n            onBlur={onBlur}\r\n            {...rest}\r\n          />\r\n          {suffix && <div className={styles.suffix}>{suffix}</div>}\r\n        </div>\r\n        {errMsg && <div className={styles.errMsg}>{errMsg}</div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport ClipboardJS from 'clipboard';\r\nimport classNames from 'classnames';\r\nimport { Tooltip } from '../index';\r\nimport uniqid from 'uniqid';\r\nimport * as styles from './index.module.scss';\r\n\r\nexport default class Clipboard extends PureComponent {\r\n  state = {\r\n    uid: this.props.id || uniqid('clipboard_'),\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { outInner = '' } = this.props;\r\n    new ClipboardJS(outInner ? '.outerInner' : '.clipboard');\r\n  }\r\n\r\n  render() {\r\n    const { uid } = this.state;\r\n    const { children, className, width, outInner = '' } = this.props;\r\n    return (\r\n      <span className={classNames(styles.clipboard, className)}>\r\n        <span\r\n          id={uid}\r\n          className={classNames(styles.children, width ? styles.ellipse : null)}\r\n          style={{ width }}>\r\n          {children}\r\n        </span>\r\n        <Tooltip tip=\"复制成功\" type=\"click\">\r\n          <i\r\n            className=\"clipboard iconfont iconfuzhi\"\r\n            data-clipboard-target={`#${uid}`}\r\n            style={{ marginLeft: children ? 8 : null }}\r\n          />\r\n          {outInner ? (\r\n            <span className=\"outerInner\" data-clipboard-target={`#${uid}`}>\r\n              {outInner}\r\n            </span>\r\n          ) : null}\r\n        </Tooltip>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport classNames from 'classnames';\r\nimport { isFunction } from '../../utils';\r\nimport uniqid from 'uniqid';\r\nimport * as styles from './index.module.scss';\r\n\r\nexport default class Tooltip extends PureComponent {\r\n  state = {\r\n    uid: uniqid('tooltip_'),\r\n  };\r\n\r\n  render() {\r\n    const { uid } = this.state;\r\n    const {\r\n      children,\r\n      onClick,\r\n      type = 'hover',\r\n      size = 'middle',\r\n      offset = {},\r\n      place = 'bottom',\r\n      tip = 'tooltip提示',\r\n    } = this.props;\r\n\r\n    return (\r\n      <>\r\n        {type === 'hover' ? (\r\n          <>\r\n            <span data-for={uid} data-tip={tip} className={styles.tip}>\r\n              {children}\r\n            </span>\r\n            <ReactTooltip\r\n              effect=\"solid\"\r\n              offset={offset}\r\n              multiline\r\n              id={uid}\r\n              place={place}\r\n              className={classNames(styles.tool, styles[size])}>\r\n              {tip}\r\n            </ReactTooltip>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <span id={uid} data-tip={tip} className={styles.tip}>\r\n              <span\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  if (onClick && isFunction(onClick)) {\r\n                    onClick((tip) => {\r\n                      tip &&\r\n                        this.setState(\r\n                          {\r\n                            tip,\r\n                          },\r\n                          () => {\r\n                            ReactTooltip.show(document.getElementById(uid));\r\n                          },\r\n                        );\r\n                    });\r\n                  } else {\r\n                    ReactTooltip.show(document.getElementById(uid));\r\n                  }\r\n                }}>\r\n                {children}\r\n              </span>\r\n            </span>\r\n\r\n            <ReactTooltip\r\n              className={styles.content}\r\n              event=\"none\"\r\n              effect=\"solid\"\r\n              isCapture={true}\r\n              delayShow={150}\r\n              afterShow={() => {\r\n                setTimeout(() => {\r\n                  ReactTooltip.hide(document.getElementById(uid));\r\n                }, 500);\r\n              }}\r\n            />\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import { fetchFromHttp } from \"../utils\";\r\n\r\nconst endpoint = \"https://api.chainx.org/bitx/testnet\";\r\n//`https://api.blockcypher.com/v1/btc/test3`;\r\nconst submitEndpoint = \"https://api.chainx.org/bitx/txs\";\r\n\r\nexport async function getBalance(addr) {\r\n  return window.fetch(endpoint + `/${addr}/balance`).then(response => {\r\n    return response.json();\r\n  });\r\n}\r\n\r\nexport async function getUtxos(addr) {\r\n  return window.fetch(endpoint + `/${addr}/utxos`).then(res => res.json());\r\n  //.then(res => res.txrefs || []);\r\n}\r\n\r\nexport async function broadcastTx(tx) {\r\n  const body = { raw: tx };\r\n  return fetchFromHttp({\r\n    url: submitEndpoint,\r\n    method: \"POST\",\r\n    body\r\n  });\r\n}\r\n","import { getBalance, getUtxos } from \"../../service\";\r\nimport { formatNumber } from \"../../utils\";\r\n\r\nexport const addAccount = account => ({\r\n  type: \"ADD_ACCOUNT\",\r\n  account\r\n});\r\n\r\nexport const updateAccountBalance = account => ({\r\n  type: \"UPDATE_ACCOUNT_BALANCE\",\r\n  account\r\n});\r\n\r\nexport const generateMnemonic = () => ({ type: \"GENERATE_MNEMONIC\" });\r\n\r\nexport const setPageTitle = pageTitle => ({\r\n  type: \"SET_PAGE_TITLE\",\r\n  pageTitle\r\n});\r\n\r\nexport const setModal = ({ name, show, data }) => ({\r\n  type: \"SET_Modal\",\r\n  modal: { name, show, data }\r\n});\r\n\r\nexport const getAccountUtxos = addr => {\r\n  return () => {\r\n    return getUtxos(addr);\r\n  };\r\n};\r\n\r\nexport const setGoBack = goBack => ({\r\n  type: \"SET_GO_BACK\",\r\n  goBack\r\n});\r\n\r\nexport const getAllAccountBalance = () => {\r\n  return function(dispatch, getState) {\r\n    const { accounts } = getState();\r\n    for (let i = 0; i < accounts.length; i++) {\r\n      getBalance(accounts[i].address).then((res = {}) => {\r\n        const findOne = {\r\n          ...accounts[i],\r\n          ...res,\r\n          balanceShow: formatNumber.toBtcPrecision(res.balance)\r\n        };\r\n        dispatch(updateAccountBalance(findOne));\r\n      });\r\n    }\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as styles from \"./index.module.scss\";\r\nimport { setModal } from \"../../store/actions\";\r\nimport { Device } from \"../../utils\";\r\nimport classNames from \"classnames\";\r\n\r\nclass Modal extends Component {\r\n  render() {\r\n    const { title, setModal, modal: { show } = {}, children } = this.props;\r\n    return (\r\n      show && (\r\n        <div\r\n          className={classNames(\r\n            styles.Modalcontainer,\r\n            Device.isMobile() ? styles.rootModalMobile : styles.rootModalDesktop\r\n          )}\r\n          id=\"rootModal\"\r\n        >\r\n          <div className={styles.content}>\r\n            <div\r\n              className={styles.header}\r\n              onClick={() => {\r\n                setModal(false);\r\n              }}\r\n            >\r\n              <div className={styles.title}>{title}</div>\r\n              <i className=\"iconfont iconClose\" />\r\n            </div>\r\n            {children}\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    modal: state.modal\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setModal: status => dispatch(setModal({ show: status }))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Modal);\r\n","import React, { Component } from \"react\";\r\nimport { RouterGo } from \"../../components\";\r\nimport { PATH } from \"../../constants\";\r\nimport BitX from \"../../resources/Bitx.png\";\r\nimport * as styles from \"./SelectModeGetAccount.module.scss\";\r\n\r\nclass SelectModeGetAccount extends Component {\r\n  render() {\r\n    const { changeClose, accounts = [] } = this.props;\r\n    return (\r\n      <div className={styles.SelectModeGetAccount}>\r\n        {accounts.length ? (\r\n          <div className={styles.close} onClick={changeClose}>\r\n            <i className=\"iconfont iconClose\" />\r\n          </div>\r\n        ) : null}\r\n\r\n        <div className={styles.bitx}>\r\n          <img alt=\"\" src={BitX} height={55} />\r\n        </div>\r\n        <div className={styles.routerbutton}>\r\n          <div>\r\n            <RouterGo go={{ pathname: PATH.createaccount }}>\r\n              <button>创建账户</button>\r\n            </RouterGo>\r\n          </div>\r\n          <div>\r\n            <RouterGo go={{ pathname: PATH.importaccount }}>\r\n              <button>导入账户</button>\r\n            </RouterGo>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SelectModeGetAccount;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Mixin, RouterGo } from \"../../components\";\r\nimport { setBlankSpace } from \"../../utils\";\r\nimport SelectModeGetAccount from \"./SelectModeGetAccount\";\r\nimport * as styles from \"./index.module.scss\";\r\nimport { PATH } from \"../../constants\";\r\n\r\nclass AccountList extends Mixin {\r\n  pageTitle = \"Bitx\";\r\n  constructor(props) {\r\n    super(props);\r\n    const { accounts = [] } = props;\r\n    this.state = {\r\n      close: !!accounts.length\r\n    };\r\n  }\r\n\r\n  startInit = () => {};\r\n\r\n  changeClose = () => {\r\n    this.setState(prevState => ({\r\n      close: !prevState.close\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { changeClose } = this;\r\n    const { close } = this.state;\r\n    const { accounts = [] } = this.props;\r\n    console.log(accounts, \"-----accounts\");\r\n\r\n    return (\r\n      <div className={styles.AccountList}>\r\n        <div className={styles.listtitle}>\r\n          <div>账户列表</div>\r\n          <div onClick={changeClose}>\r\n            <i className=\"iconfont iconadd\" />\r\n          </div>\r\n        </div>\r\n        <ul>\r\n          {accounts.map((item, index) => (\r\n            <RouterGo\r\n              key={index}\r\n              Ele=\"li\"\r\n              go={{\r\n                pathname: PATH.accountdetail,\r\n                search: `?address=${item.address}`\r\n              }}\r\n            >\r\n              <div className={styles.seperate} />\r\n              <div className={styles.desc}>\r\n                <div className={styles.name}>{item.name}</div>\r\n                <div className={styles.amount}>\r\n                  {setBlankSpace(item.balanceShow, \"BTC\")}\r\n                </div>\r\n              </div>\r\n              <div className={styles.address}>{item.address}</div>\r\n            </RouterGo>\r\n          ))}\r\n        </ul>\r\n        {close ? null : (\r\n          <SelectModeGetAccount {...this.props} changeClose={changeClose} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  undefined,\r\n  undefined\r\n)(AccountList);\r\n","import React from 'react';\r\nimport { Mixin } from '../../components';\r\nimport * as styles from './KnowAbout.module.scss';\r\n\r\nexport default class KnowAbout extends Mixin {\r\n  pageTitle = '备份助记词';\r\n  render() {\r\n    const { changeStep } = this.props;\r\n    return (\r\n      <div className={styles.KnowAbout}>\r\n        <i className=\"iconfont iconsuo\" />\r\n        <div className={styles.content}>\r\n          在BitX上生成或导入的助记词和私钥\r\n          <br />\r\n          由用户自己保管！平台方并无备份\r\n        </div>\r\n        <button onClick={() => changeStep(2)}>我已了解</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Mixin } from '../../components';\r\nimport * as styles from './SaveMnemonic.module.scss';\r\n\r\nexport default class SaveMnemonic extends Mixin {\r\n  render() {\r\n    const { mnemonic, changeStep } = this.props;\r\n    return (\r\n      <div className={styles.SaveMnemonic}>\r\n        <div className={styles.desc}>\r\n          请将以下12个单词记在纸上\r\n          <br />\r\n          我们会在之后进行验证\r\n        </div>\r\n        <div className={styles.generatewords}>{mnemonic}</div>\r\n        <button onClick={() => changeStep(3)}>我已备份</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { Mixin } from '../../components';\r\nimport * as styles from './CheckMnemonic.module.scss';\r\nimport { Patterns } from '../../utils';\r\n\r\nexport default class CheckMnemonic extends Mixin {\r\n  constructor(props) {\r\n    super(props);\r\n    const randomSort = (a, b) => {\r\n      return Math.random() > 0.5 ? -1 : 1;\r\n    };\r\n    this.state = {\r\n      userInput: [],\r\n      userInputErrMsg: '',\r\n      mnemonicSort: props.mnemonic.split(' ').sort(randomSort),\r\n    };\r\n  }\r\n\r\n  checkAll = {\r\n    checkUserInput: () => {\r\n      const { userInput = [] } = this.state;\r\n      const { mnemonic } = this.props;\r\n      const err = Patterns.check('strictEqual')(\r\n        userInput.map((item = {}) => item.value).join(' '),\r\n        mnemonic,\r\n      );\r\n      this.setState({\r\n        userInputErrMsg: err,\r\n      });\r\n      return err;\r\n    },\r\n    confirm: () => {\r\n      return ['checkUserInput'].every((item) => !this.checkAll[item]());\r\n    },\r\n  };\r\n\r\n  render() {\r\n    const { checkAll } = this;\r\n    const { userInput, userInputErrMsg, mnemonicSort } = this.state;\r\n    const { changeStep } = this.props;\r\n\r\n    const getPostion = (index) => userInput.findIndex((item) => item.index === index);\r\n    return (\r\n      <div className={styles.CheckMnemonic}>\r\n        <div className={styles.desc}>验证您记下的助记词</div>\r\n        <div className={styles.generatewords}>\r\n          {userInput.map((item = {}) => item.value).join(' ')}\r\n        </div>\r\n        <div className={classNames(styles.writedesc, userInputErrMsg && styles.warn)}>\r\n          请按正确的顺序点击单词\r\n        </div>\r\n        <ul className={styles.allwords}>\r\n          {mnemonicSort.map((item, index) => (\r\n            <li\r\n              className={getPostion(index) !== -1 ? styles.active : null}\r\n              key={index}\r\n              onClick={() => {\r\n                this.setState({\r\n                  userInputErrMsg: '',\r\n                });\r\n                if (getPostion(index) === -1) {\r\n                  this.setState((prevState) => {\r\n                    prevState.userInput.push({\r\n                      value: item,\r\n                      index,\r\n                    });\r\n                    return {\r\n                      userInput: prevState.userInput,\r\n                    };\r\n                  });\r\n                } else {\r\n                  this.setState((prevState) => {\r\n                    prevState.userInput.splice(getPostion(index), 1);\r\n                    return {\r\n                      userInput: prevState.userInput,\r\n                    };\r\n                  });\r\n                }\r\n              }}>\r\n              {item}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <button\r\n          onClick={() => {\r\n            if (checkAll.confirm()) {\r\n              changeStep(4);\r\n            }\r\n          }}>\r\n          完成\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Mixin, Input } from '../../components';\r\nimport { PATH } from '../../constants';\r\nimport { bitJS, Patterns } from '../../utils';\r\nimport * as styles from './SetPassword.module.scss';\r\nimport { addAccount } from '../../store/actions';\r\n\r\nclass SetPassword extends Mixin {\r\n  pageTitle = '设置密码';\r\n  state = {\r\n    name: '',\r\n    nameErrMsg: '',\r\n    password: '',\r\n    passwordErrMsg: '',\r\n    confirmPassword: '',\r\n    confirmPasswordErrMsg: '',\r\n  };\r\n\r\n  checkAll = {\r\n    checkName: () => {\r\n      const { name } = this.state;\r\n      const err = Patterns.check('required')(name);\r\n      this.setState({\r\n        nameErrMsg: err,\r\n      });\r\n      return err;\r\n    },\r\n    checkPassword: () => {\r\n      const { password } = this.state;\r\n      let err =\r\n        Patterns.check('required')(password) ||\r\n        Patterns.check('characterLength')(password, 8) ||\r\n        this.checkAll.checkEqual();\r\n      this.setState({\r\n        passwordErrMsg: err,\r\n      });\r\n      return err;\r\n    },\r\n    checkConfirmPassword: () => {\r\n      const { confirmPassword } = this.state;\r\n      let err = Patterns.check('required')(confirmPassword) || this.checkAll.checkEqual();\r\n      this.setState({\r\n        confirmPasswordErrMsg: err,\r\n      });\r\n      return err;\r\n    },\r\n    checkEqual: () => {\r\n      const { password, confirmPassword } = this.state;\r\n      if (password && confirmPassword) {\r\n        const err = Patterns.check('equal')(password, confirmPassword);\r\n        this.setState({\r\n          passwordErrMsg: err,\r\n          confirmPasswordErrMsg: err,\r\n        });\r\n        return err;\r\n      }\r\n    },\r\n    confirm: () => {\r\n      return ['checkName', 'checkPassword', 'checkConfirmPassword'].every(\r\n        (item) => !this.checkAll[item](),\r\n      );\r\n    },\r\n  };\r\n  render() {\r\n    const { checkAll } = this;\r\n    const {\r\n      name,\r\n      nameErrMsg,\r\n      password,\r\n      passwordErrMsg,\r\n      confirmPassword,\r\n      confirmPasswordErrMsg,\r\n    } = this.state;\r\n    const { mnemonic, privateKey, addAccount, history } = this.props;\r\n    return (\r\n      <div className={styles.SetPassword}>\r\n        <div className={styles.inputcontent}>\r\n          <div className={styles.desc}>为你的钱包账户设置密码</div>\r\n          <Input\r\n            label=\"昵称\"\r\n            value={name}\r\n            errMsg={nameErrMsg}\r\n            placeholder=\"12字符以内\"\r\n            onBlur={checkAll.checkName}\r\n            onChange={(value) =>\r\n              this.setState({\r\n                nameErrMsg: '',\r\n                name: value.slice(0, 12),\r\n              })\r\n            }\r\n          />\r\n          <Input\r\n            isPassword\r\n            label=\"密码\"\r\n            value={password}\r\n            errMsg={passwordErrMsg}\r\n            placeholder=\"密码至少包含8个字符\"\r\n            onBlur={checkAll.checkPassword}\r\n            onChange={(value) =>\r\n              this.setState({\r\n                passwordErrMsg: '',\r\n                password: value,\r\n              })\r\n            }\r\n          />\r\n          <Input\r\n            isPassword\r\n            label=\"确认密码\"\r\n            value={confirmPassword}\r\n            errMsg={confirmPasswordErrMsg}\r\n            placeholder=\"重复输入密码\"\r\n            onBlur={checkAll.checkConfirmPassword}\r\n            onChange={(value) =>\r\n              this.setState({\r\n                confirmPasswordErrMsg: '',\r\n                confirmPassword: value,\r\n              })\r\n            }\r\n          />\r\n        </div>\r\n        <div className={styles.button}>\r\n          <button\r\n            onClick={() => {\r\n              if (checkAll.confirm()) {\r\n                let account;\r\n                if (mnemonic) {\r\n                  account = bitJS.generateAccount({\r\n                    name: name,\r\n                    mnemonic,\r\n                    password: password,\r\n                  });\r\n                } else if (privateKey) {\r\n                  account = bitJS.generateAccount({\r\n                    name: name,\r\n                    wif: privateKey,\r\n                    password: password,\r\n                  });\r\n                }\r\n                addAccount(account);\r\n                history.push({\r\n                  pathname: PATH.home,\r\n                });\r\n              }\r\n            }}>\r\n            确定\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addAccount: (account) => {\r\n      dispatch(addAccount(account));\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  undefined,\r\n  mapDispatchToProps,\r\n)(SetPassword);\r\n","import React from \"react\";\r\nimport { Mixin, Input, Modal, RouterGo } from \"../../components\";\r\nimport { isFunction, Patterns, bitJS, isString } from \"../../utils\";\r\nimport * as styles from \"./SignModal.module.scss\";\r\n\r\nexport default class SignModal extends Mixin {\r\n  state = {\r\n    password: \"\",\r\n    passwordErrMsg: \"\",\r\n    status: false,\r\n    hash: \"\"\r\n  };\r\n\r\n  checkAll = {\r\n    checkPassword: () => {\r\n      const { password } = this.state;\r\n      const { currentAccount: { encryptedKey } = {} } = this.props;\r\n      let err =\r\n        Patterns.check(\"required\")(password) ||\r\n        bitJS.isValidPassword(encryptedKey, password);\r\n      this.setState({\r\n        passwordErrMsg: err\r\n      });\r\n      return err;\r\n    },\r\n    confirm: () => {\r\n      return [\"checkPassword\"].every(item => !this.checkAll[item]());\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { checkAll } = this;\r\n    const { password, passwordErrMsg, status, hash } = this.state;\r\n    const {\r\n      modal: { data: { callback } = {} } = {},\r\n      currentAccount: { encryptedKey } = {}\r\n    } = this.props;\r\n\r\n    return (\r\n      <Modal title={status ? \"交易已广播\" : \"输入账户密码\"}>\r\n        {status ? (\r\n          <div className={styles.success}>\r\n            <i className=\"iconfont iconsuccess\" />\r\n            <div className={styles.button}>\r\n              <RouterGo\r\n                isOutSide\r\n                go={{\r\n                  pathname: `https://live.blockcypher.com/btc-testnet/tx/${hash}/`\r\n                }}\r\n              >\r\n                <button onClick={() => {}}>查看交易</button>\r\n              </RouterGo>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className={styles.userInput}>\r\n              <Input\r\n                isPassword\r\n                value={password}\r\n                errMsg={passwordErrMsg}\r\n                onChange={value => {\r\n                  this.setState({\r\n                    passwordErrMsg: \"\",\r\n                    password: value\r\n                  });\r\n                }}\r\n                onBlur={checkAll.checkPassword}\r\n              />\r\n            </div>\r\n            <div className={styles.button}>\r\n              <button\r\n                onClick={async () => {\r\n                  if (checkAll.confirm()) {\r\n                    if (isFunction(callback)) {\r\n                      try {\r\n                        const res = await callback(encryptedKey, password);\r\n                        if (res) {\r\n                          this.setState({\r\n                            status: true,\r\n                            hash: res\r\n                          });\r\n                        }\r\n                      } catch (err) {\r\n                        console.log(err);\r\n                        const errMsg = isString(err)\r\n                          ? err\r\n                          : err.message && isString(err.message)\r\n                          ? err.message\r\n                          : err.message &&\r\n                            err.message.error &&\r\n                            isString(err.message.error)\r\n                          ? err.message.error\r\n                          : \"交易广播失败\";\r\n                        this.setState({\r\n                          passwordErrMsg: errMsg\r\n                        });\r\n                      }\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                确定\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Mixin } from \"../../components\";\r\nimport { bitJS } from \"../../utils\";\r\nimport KnowAbout from \"./KnowAbout\";\r\nimport SaveMnemonic from \"./SaveMnemonic\";\r\nimport CheckMnemonic from \"./CheckMnemonic\";\r\nimport { SetPassword } from \"../Components\";\r\nimport * as styles from \"./index.module.scss\";\r\n\r\nclass CreateAccount extends Mixin {\r\n  state = {\r\n    step: 1,\r\n    mnemonic: bitJS.generateMnemonic()\r\n  };\r\n\r\n  changeStep = step => {\r\n    this.changeState({\r\n      step\r\n    });\r\n  };\r\n  render() {\r\n    const { step, mnemonic } = this.state;\r\n    const props = {\r\n      ...this.props,\r\n      mnemonic,\r\n      changeStep: this.changeStep\r\n    };\r\n    return (\r\n      <div className={styles.CreateAccount}>\r\n        {step === 1 && <KnowAbout {...props} />}\r\n        {step === 2 && <SaveMnemonic {...props} />}\r\n        {step === 3 && <CheckMnemonic {...props} />}\r\n        {step === 4 && <SetPassword {...props} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    state\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = () => {\r\n  return {};\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CreateAccount);\r\n","import React from \"react\";\r\nimport { Mixin } from \"../../components\";\r\nimport * as styles from \"./ImportMnemonicOrSecret.module.scss\";\r\nimport { Patterns } from \"../../utils\";\r\nimport { SetPassword } from \"../Components\";\r\n\r\nexport default class ImportMnemonic extends Mixin {\r\n  state = {\r\n    userInput: \"\",\r\n    userInputErrMsg: \"\"\r\n  };\r\n\r\n  checkAll = {\r\n    checkUserInput: () => {\r\n      const { userInput } = this.state;\r\n      const err =\r\n        Patterns.check(\"required\")(userInput) ||\r\n        Patterns.check(\"isValidMnemonic\")(userInput.trim());\r\n      this.setState({\r\n        userInputErrMsg: err\r\n      });\r\n      return err;\r\n    },\r\n    confirm: () => {\r\n      return [\"checkUserInput\"].every(item => !this.checkAll[item]());\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { checkAll } = this;\r\n    const { userInput, userInputErrMsg } = this.state;\r\n    const { changeStep, step } = this.props;\r\n    return (\r\n      <div className={styles.ImportMnemonic}>\r\n        {step === 1 && (\r\n          <>\r\n            <div className={styles.desc}>\r\n              请按正确顺序输入您的助记词\r\n              <br />\r\n              以空格键区分\r\n            </div>\r\n            <div className={styles.generatewords}>\r\n              <textarea\r\n                value={userInput}\r\n                onChange={e => {\r\n                  const value = e.target.value.replace(/\\s+/g, \" \");\r\n                  this.setState({\r\n                    userInputErrMsg: \"\",\r\n                    userInput: value\r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n            {userInputErrMsg && (\r\n              <div className={styles.errwarn}>{userInputErrMsg}</div>\r\n            )}\r\n\r\n            <button\r\n              onClick={() => {\r\n                if (checkAll.confirm()) {\r\n                  console.log(userInput.trim());\r\n                  changeStep(2);\r\n                }\r\n              }}\r\n            >\r\n              导入\r\n            </button>\r\n          </>\r\n        )}\r\n        {step === 2 && (\r\n          <SetPassword {...this.props} mnemonic={userInput.trim()} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Mixin } from '../../components';\r\nimport * as styles from './ImportMnemonicOrSecret.module.scss';\r\nimport { Patterns } from '../../utils';\r\nimport { SetPassword } from '../Components';\r\n\r\nexport default class ImportSecretKey extends Mixin {\r\n  state = {\r\n    userInput: '',\r\n    userInputErrMsg: '',\r\n  };\r\n\r\n  checkAll = {\r\n    checkUserInput: () => {\r\n      const { userInput = [] } = this.state;\r\n      const err =\r\n        Patterns.check('required')(userInput) || Patterns.check('isValidPrivateKey')(userInput);\r\n      this.setState({\r\n        userInputErrMsg: err,\r\n      });\r\n      return err;\r\n    },\r\n    confirm: () => {\r\n      return ['checkUserInput'].every((item) => !this.checkAll[item]());\r\n    },\r\n  };\r\n\r\n  render() {\r\n    const { checkAll } = this;\r\n    const { userInput, userInputErrMsg } = this.state;\r\n    const { changeStep, step } = this.props;\r\n    return (\r\n      <div className={styles.ImportMnemonic}>\r\n        {step === 1 && (\r\n          <>\r\n            <div className={styles.desc}>请输入您的钱包私钥</div>\r\n            <div className={styles.generatewords}>\r\n              <textarea\r\n                value={userInput}\r\n                onChange={(e) => {\r\n                  const value = e.target.value;\r\n                  this.setState({\r\n                    userInputErrMsg: '',\r\n                    userInput: value,\r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n            {userInputErrMsg && <div className={styles.errwarn}>{userInputErrMsg}</div>}\r\n\r\n            <button\r\n              onClick={() => {\r\n                if (checkAll.confirm()) {\r\n                  changeStep(2);\r\n                }\r\n              }}>\r\n              导入\r\n            </button>\r\n          </>\r\n        )}\r\n        {step === 2 && <SetPassword {...this.props} privateKey={userInput.trim()} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Mixin } from \"../../components\";\r\nimport ImportMnemonic from \"./ImportMnemonic\";\r\nimport ImportSecretKey from \"./ImportSecretKey\";\r\nimport * as styles from \"./index.module.scss\";\r\n\r\nclass ImportAccount extends Mixin {\r\n  pageTitle = \"导入账户\";\r\n  state = {\r\n    step: 1,\r\n    activeIndex: 0\r\n  };\r\n\r\n  changeStep = step => {\r\n    this.changeState({\r\n      step\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { step, activeIndex } = this.state;\r\n    const props = {\r\n      step,\r\n      changeStep: this.changeStep,\r\n      ...this.props\r\n    };\r\n    return (\r\n      <div className={styles.ImportAccount}>\r\n        {step === 1 && (\r\n          <ul className={styles.selectmode}>\r\n            {[\"导入助记词\", \"导入私钥\"].map((item, index) => (\r\n              <li\r\n                key={index}\r\n                className={activeIndex === index ? styles.active : null}\r\n                onClick={() => {\r\n                  this.setState({\r\n                    step: 1,\r\n                    activeIndex: index\r\n                  });\r\n                }}\r\n              >\r\n                {item}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n\r\n        {activeIndex === 0 && <ImportMnemonic {...props} />}\r\n        {activeIndex === 1 && <ImportSecretKey {...props} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    state\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = () => {\r\n  return {};\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ImportAccount);\r\n","import React from 'react';\r\nimport { Mixin, Clipboard, RouterGo } from '../../components';\r\nimport * as styles from './AccountInfo.module.scss';\r\n\r\nexport default class AccountInfo extends Mixin {\r\n  render() {\r\n    const { currentAccount = {} } = this.props;\r\n    return (\r\n      <div className={styles.AccountInfo}>\r\n        <div className={styles.amount}>\r\n          {currentAccount.balanceShow}\r\n          <span>BTC</span>\r\n        </div>\r\n        <div className={styles.address}>\r\n          <Clipboard>{currentAccount.address}</Clipboard>\r\n        </div>\r\n        <div className={styles.watchother}>\r\n          <RouterGo\r\n            isOutSide\r\n            go={{\r\n              pathname: `https://live.blockcypher.com/btc-testnet/address/${\r\n                currentAccount.address\r\n              }/`,\r\n            }}>\r\n            在浏览器中查看\r\n          </RouterGo>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport QRious from 'qrious';\r\nimport { Mixin } from '../../components';\r\nimport * as styles from './AccountReceive.module.scss';\r\n\r\nexport default class AccountAccept extends Mixin {\r\n  startInit = () => {\r\n    const { currentAccount } = this.props;\r\n    new QRious({\r\n      size: 190,\r\n      element: document.getElementById('qr'),\r\n      value: currentAccount.address,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={styles.AccountReceive}>\r\n        <canvas id=\"qr\" />\r\n        <div className={styles.desc}>地址二维码</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Input, Mixin } from \"../../components\";\r\nimport { SignModal } from \"../Components\";\r\nimport * as styles from \"./AccountSend.module.scss\";\r\nimport { formatNumber, Patterns, bitJS } from \"../../utils\";\r\nimport { getAccountUtxos } from \"../../store/actions\";\r\nimport { enough } from \"../../components/Detail/bitcoin\";\r\nimport { broadcastTx } from \"../../service\";\r\n\r\nclass AccountSend extends Mixin {\r\n  state = {\r\n    utxos: [],\r\n    address: \"\",\r\n    addressErrMsg: \"\",\r\n    amount: \"\",\r\n    amountErrMsg: \"\",\r\n    addOpReturn: false,\r\n    hex: \"\",\r\n    hexErrMsg: \"\",\r\n    fee: 0.00001, // 默认值为1000 Satoshi\r\n    feeErrMsg: \"\"\r\n  };\r\n\r\n  checkAll = {\r\n    checkAddress: () => {\r\n      const { address } = this.state;\r\n      const err =\r\n        Patterns.check(\"required\")(address) ||\r\n        Patterns.check(\"isBTCAddress\")(address);\r\n      this.setState({\r\n        addressErrMsg: err\r\n      });\r\n      return err;\r\n    },\r\n    checkAmount: () => {\r\n      const { amount } = this.state;\r\n      let err =\r\n        Patterns.check(\"required\")(amount) ||\r\n        Patterns.check(\"smallerOrEqual\")(0, amount, \"数量必须大于或等于0\");\r\n      if (!err) {\r\n        err = this.checkAll.checkAmountAndFee();\r\n      } else {\r\n        this.setState({\r\n          amountErrMsg: err\r\n        });\r\n      }\r\n      return err;\r\n    },\r\n    checkFee: () => {\r\n      const { fee } = this.state;\r\n      let err =\r\n        Patterns.check(\"required\")(fee) ||\r\n        Patterns.check(\"smallerOrEqual\")(0, fee, \"数量必须大于或等于0\");\r\n      if (!err) {\r\n        err = this.checkAll.checkAmountAndFee();\r\n      } else {\r\n        this.setState({\r\n          feeErrMsg: err\r\n        });\r\n      }\r\n      return err;\r\n    },\r\n    checkAmountAndFee: () => {\r\n      const { fee, amount, utxos } = this.state;\r\n      const BTCAmount = Number(formatNumber.toBtcPrecision(amount, 8, true));\r\n      const feeInSatoshi = Number(formatNumber.toBtcPrecision(fee, 8, true));\r\n      if (!enough(utxos, BTCAmount, feeInSatoshi)) {\r\n        const errMsg = \"数量不足\";\r\n        this.setState({\r\n          feeErrMsg: errMsg,\r\n          amountErrMsg: errMsg\r\n        });\r\n        return errMsg;\r\n      }\r\n      this.setState({\r\n        feeErrMsg: \"\",\r\n        amountErrMsg: \"\"\r\n      });\r\n    },\r\n    checkHex: () => {\r\n      const { hex, addOpReturn } = this.state;\r\n      const err = addOpReturn ? Patterns.check(\"required\")(hex) : \"\";\r\n      this.setState({\r\n        hexErrMsg: err\r\n      });\r\n      return err;\r\n    },\r\n    confirm: () => {\r\n      return [\"checkAddress\", \"checkAmount\", \"checkFee\", \"checkHex\"].every(\r\n        item => !this.checkAll[item]()\r\n      );\r\n    }\r\n  };\r\n\r\n  startInit = () => {\r\n    const { getAccountUtxos, currentAccount } = this.props;\r\n    getAccountUtxos(currentAccount.address).then(res =>\r\n      this.setState({\r\n        utxos: res\r\n      })\r\n    );\r\n  };\r\n\r\n  constructTx(encryptedKey, password) {\r\n    const { address, amount, hex, utxos, fee } = this.state;\r\n    const { currentAccount } = this.props;\r\n    const BTCAmount = Number(formatNumber.toBtcPrecision(amount, 8, true));\r\n    const feeInSatoshi = Number(formatNumber.toBtcPrecision(fee, 8, true));\r\n\r\n    return bitJS.sign(\r\n      utxos,\r\n      currentAccount.address,\r\n      address,\r\n      BTCAmount,\r\n      feeInSatoshi,\r\n      hex,\r\n      encryptedKey,\r\n      password\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { checkAll } = this;\r\n    const {\r\n      address,\r\n      addressErrMsg,\r\n      amount,\r\n      amountErrMsg,\r\n      addOpReturn,\r\n      hex,\r\n      hexErrMsg,\r\n      fee,\r\n      feeErrMsg\r\n    } = this.state;\r\n\r\n    const hexToAscii = str => {\r\n      if (!/^(0x)?[\\da-fA-F]+$/.test(str)) {\r\n        return \"\";\r\n      }\r\n      const hexString = str.startsWith(\"0x\") ? str.substring(2) : str;\r\n      if (hexString.length % 2 === 1) {\r\n        return \"\";\r\n      }\r\n\r\n      let strOut = \"\";\r\n      for (let x = 0; x < hexString.length; x += 2) {\r\n        strOut += String.fromCharCode(parseInt(hexString.substr(x, 2), 16));\r\n      }\r\n      return strOut;\r\n    };\r\n\r\n    const ASCII = hexToAscii(hex);\r\n    const { modal: { name } = {} } = this.props;\r\n    return (\r\n      <div className={styles.AccountSend}>\r\n        <div className={styles.userInput}>\r\n          <Input\r\n            errMsg={addressErrMsg}\r\n            label=\"接收人地址\"\r\n            value={address}\r\n            onBlur={checkAll.checkAddress}\r\n            onChange={value => {\r\n              this.setState({\r\n                address: value\r\n              });\r\n            }}\r\n          />\r\n          <Input\r\n            errMsg={amountErrMsg}\r\n            label=\"转账数量\"\r\n            value={amount}\r\n            suffix={\"BTC\"}\r\n            onBlur={checkAll.checkAmount}\r\n            onChange={value => {\r\n              this.setState({\r\n                amount: value\r\n              });\r\n            }}\r\n          />\r\n          <Input\r\n            errMsg={feeErrMsg}\r\n            label=\"交易手续费\"\r\n            value={fee}\r\n            suffix={\"BTC\"}\r\n            onBlur={checkAll.checkFee}\r\n            onChange={value => {\r\n              this.setState({\r\n                fee: value\r\n              });\r\n            }}\r\n          />\r\n        </div>\r\n        <div className={styles.addreturn}>\r\n          添加OP_RETURN\r\n          {addOpReturn ? (\r\n            <i\r\n              onClick={() => {\r\n                this.setState({\r\n                  addOpReturn: !addOpReturn\r\n                });\r\n              }}\r\n              className=\"iconfont iconopen\"\r\n              style={{ color: \"#F6C94A\" }}\r\n            />\r\n          ) : (\r\n            <i\r\n              onClick={() => {\r\n                this.setState({\r\n                  addOpReturn: !addOpReturn\r\n                });\r\n              }}\r\n              className=\"iconfont iconclose\"\r\n              style={{ color: \"rgba(34,31,31,0.26)\" }}\r\n            />\r\n          )}\r\n        </div>\r\n        {addOpReturn && (\r\n          <div className={styles.returncontent}>\r\n            <div className={styles.input}>\r\n              <Input\r\n                rows={2}\r\n                isTextArea\r\n                errMsg={hexErrMsg}\r\n                label=\"16进制 Hex\"\r\n                value={hex}\r\n                onBlur={checkAll.checkHex}\r\n                onChange={value => {\r\n                  this.setState({\r\n                    hex: value\r\n                  });\r\n                }}\r\n              />\r\n            </div>\r\n            <div className={styles.ASCII}>\r\n              <div className={styles.label}>文本 ASCII</div>\r\n              <div>{ASCII}</div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className={styles.button}>\r\n          <button\r\n            onClick={() => {\r\n              if (checkAll.confirm()) {\r\n                this.openModal({\r\n                  name: \"transfer\",\r\n                  data: {\r\n                    callback: async (encryptedKey, password) => {\r\n                      const tx = this.constructTx(encryptedKey, password);\r\n                      if (tx && tx.message) {\r\n                        throw Error(tx.message);\r\n                      } else {\r\n                        const res = await broadcastTx(tx);\r\n                        if (res && res.tx) {\r\n                          return res.tx;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                });\r\n              }\r\n            }}\r\n          >\r\n            确定\r\n          </button>\r\n        </div>\r\n\r\n        {name === \"transfer\" && <SignModal {...this.props} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getAccountUtxos: address => dispatch(getAccountUtxos(address))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  undefined,\r\n  mapDispatchToProps\r\n)(AccountSend);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Mixin } from \"../../components\";\r\nimport AccountInfo from \"./AccountInfo\";\r\nimport AccountReceive from \"./AccountReceive\";\r\nimport AccountSend from \"./AccountSend\";\r\nimport * as styles from \"./index.module.scss\";\r\n\r\nclass AccountDetail extends Mixin {\r\n  constructor(props) {\r\n    super(props);\r\n    const { currentAccount } = props;\r\n    this.pageTitle = currentAccount.name;\r\n    this.state = {\r\n      activeIndex: 0\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { activeIndex } = this.state;\r\n    return (\r\n      <div className={styles.AccountDetail}>\r\n        <AccountInfo {...this.props} />\r\n        <div\r\n          className={styles.content}\r\n          style={{ background: activeIndex === 1 ? \"white\" : \"\" }}\r\n        >\r\n          <ul className={styles.selectmode}>\r\n            {[\"发送\", \"接收\"].map((item, index) => (\r\n              <li\r\n                key={index}\r\n                className={activeIndex === index ? styles.active : null}\r\n                onClick={() => {\r\n                  this.setState({\r\n                    activeIndex: index\r\n                  });\r\n                }}\r\n              >\r\n                {item}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          {activeIndex === 0 && <AccountSend {...this.props} />}\r\n          {activeIndex === 1 && <AccountReceive {...this.props} />}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    accounts: state.accounts\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(AccountDetail);\r\n","import { PATH } from '../../constants';\r\nimport AccountList from '../AccountList';\r\nimport CreateAccount from '../CreateAccount';\r\nimport ImportAccount from '../ImportAccount';\r\nimport AccountDetail from '../AccountDetail';\r\n\r\nexport default [\r\n  {\r\n    component: AccountList,\r\n    path: PATH.home,\r\n    title: 'BitX',\r\n  },\r\n  {\r\n    component: CreateAccount,\r\n    path: PATH.createaccount,\r\n    title: '',\r\n  },\r\n  {\r\n    component: ImportAccount,\r\n    path: PATH.importaccount,\r\n    title: '',\r\n  },\r\n  {\r\n    component: AccountDetail,\r\n    path: PATH.accountdetail,\r\n    title: '',\r\n  },\r\n];\r\n","import React, { Component } from \"react\";\r\nimport * as styles from \"./Header.module.scss\";\r\nimport { PATH } from \"../../../constants\";\r\nimport { isFunction } from \"../../../utils\";\r\n\r\nexport default class Header extends Component {\r\n  render() {\r\n    const {\r\n      history,\r\n      history: {\r\n        location: { pathname }\r\n      },\r\n      goBack\r\n    } = this.props;\r\n    const isShowBack = () => pathname !== PATH.home;\r\n    return (\r\n      <div className={styles.Header}>\r\n        {isShowBack() && (\r\n          <i\r\n            className=\"iconfont iconback1\"\r\n            onClick={() => {\r\n              if (isFunction(goBack)) {\r\n                goBack();\r\n              } else {\r\n                history.goBack();\r\n              }\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport routers from \"../routers\";\r\nimport Header from \"./Header\";\r\nimport * as styles from \"./index.module.scss\";\r\nimport {\r\n  setPageTitle,\r\n  setModal,\r\n  getAllAccountBalance,\r\n  setGoBack\r\n} from \"../../../store/actions\";\r\nimport { PATH } from \"../../../constants\";\r\nimport { bitJS, parseQueryString } from \"../../../utils\";\r\nclass CommonLayOut extends Component {\r\n  componentDidMount() {\r\n    const { getAllAccountBalance } = this.props;\r\n    getAllAccountBalance();\r\n\r\n    bitJS.update();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { accounts: prevAccounts = [] } = prevProps;\r\n    const { accounts = [], getAllAccountBalance } = this.props;\r\n    if (prevAccounts.length !== accounts.length) {\r\n      getAllAccountBalance();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      accounts = [],\r\n      pageTitle,\r\n      history: { location: { search } = {} }\r\n    } = this.props;\r\n    let currentAccount = {};\r\n    const address = parseQueryString(search).address;\r\n    if (address) {\r\n      currentAccount =\r\n        accounts.filter((item = {}) => item.address === address)[0] || {};\r\n    }\r\n    return (\r\n      <div className={styles.CommonLayOut}>\r\n        <div className={styles.header}>\r\n          <Header {...this.props}>{pageTitle}</Header>\r\n        </div>\r\n        <div className={styles.content}>\r\n          <Switch>\r\n            {routers.map((item, index) => (\r\n              <Route\r\n                exact\r\n                key={index}\r\n                path={item.path}\r\n                render={props => (\r\n                  <item.component\r\n                    {...props}\r\n                    {...this.props}\r\n                    currentAccount={currentAccount}\r\n                  />\r\n                )}\r\n              />\r\n            ))}\r\n            <Redirect to={PATH.home} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    goBack: state.goBack,\r\n    accounts: state.accounts,\r\n    pageTitle: state.pageTitle,\r\n    modal: state.modal\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setPageTitle: title => dispatch(setPageTitle(title)),\r\n    setModal: ({ name, show, data }) =>\r\n      dispatch(setModal({ name, show, data })),\r\n    getAllAccountBalance: () => dispatch(getAllAccountBalance()),\r\n    setGoBack: goBack => dispatch(setGoBack(goBack))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CommonLayOut);\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { Route, Switch } from \"react-router\";\r\nimport CommonLayOut from \"./CommonLayOut\";\r\nimport { Device } from \"../../utils\";\r\n\r\nimport \"./index.module.scss\";\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    if (Device.isMobile()) {\r\n      document.getElementById(\"root\").setAttribute(\"class\", \"root-mobile\");\r\n    } else {\r\n      document.getElementById(\"root\").setAttribute(\"class\", \"root-desktop\");\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Router>\r\n        <Switch>\r\n          <Route\r\n            path=\"/\"\r\n            render={props => <CommonLayOut {...props} {...this.props} />}\r\n          />\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { localSave, bitJS } from \"../../utils\";\r\n\r\nconst accounts = (state = [], action) => {\r\n  if (action.type === \"ADD_ACCOUNT\") {\r\n    const result = [...state, action.account];\r\n    const saveParts = result.map((item = {}) => ({\r\n      name: item.name,\r\n      address: item.address,\r\n      encryptedKey: item.encryptedKey\r\n    }));\r\n    bitJS.saveAccount(saveParts);\r\n    return result;\r\n  } else if (action.type === \"UPDATE_ACCOUNT_BALANCE\") {\r\n    return state.map(item => {\r\n      if (item.address === action.account.address) {\r\n        return action.account;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  const accountVersion = localSave.get(\"accountVersion\");\r\n  let localAccounts = [];\r\n  if (!accountVersion) {\r\n    localAccounts = [];\r\n    localSave.remove(\"accounts\");\r\n    localSave.set(\"accountVersion\", 1);\r\n  } else {\r\n    localAccounts = bitJS.getAccount();\r\n  }\r\n\r\n  return state.length ? state : localAccounts || [];\r\n};\r\n\r\nexport default accounts;\r\n","import bip39 from 'bip39';\r\n\r\nconst mnemonic = (state = [], action) => {\r\n  if (action.type === 'GENERATE_MNEMONIC') {\r\n    const mnemonic = bip39.generateMnemonic();\r\n    return mnemonic.split(' ');\r\n  } else if (action.type === 'GENERATE_MNEMONIC') {\r\n    return [];\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default mnemonic;\r\n","const balances = (state = [], action) => {\r\n  if (action.type === 'ADD_BALANCE') {\r\n    return [action.balance, ...state];\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default balances;\r\n","const utxos = (state = [], action) => {\r\n  if (action.type === 'ADD_UTXO') {\r\n    return [{ utxos: action.utxos, address: action.address }, ...state];\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default utxos;\r\n","const pageTitle = (state = [], action) => {\r\n  if (action.type === 'SET_PAGE_TITLE') {\r\n    return action.pageTitle;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default pageTitle;\r\n","const modal = (state = { name: '', show: false }, action = {}) => {\r\n  if (action.type === 'SET_Modal') {\r\n    return {\r\n      ...state,\r\n      ...action.modal,\r\n    };\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default modal;\r\n","const goBack = (state = '', action) => {\r\n  if (action.type === 'SET_GO_BACK') {\r\n    return action.goBack;\r\n  }\r\n  return state;\r\n};\r\n\r\nexport default goBack;\r\n","import { combineReducers } from \"redux\";\r\nimport accounts from \"./reducers/account\";\r\nimport newMnemonic from \"./reducers/mnemonic\";\r\nimport balances from \"./reducers/balance\";\r\nimport utxos from \"./reducers/utxo\";\r\nimport pageTitle from \"./reducers/pageTitle\";\r\nimport modal from \"./reducers/modal\";\r\nimport goBack from \"./reducers/goBack\";\r\n\r\nexport default combineReducers({\r\n  accounts,\r\n  newMnemonic,\r\n  balances,\r\n  utxos,\r\n  pageTitle,\r\n  modal,\r\n  goBack\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport initReactFastclick from \"react-fastclick\";\r\nimport \"normalize.css\";\r\nimport \"./index.scss\";\r\nimport App from \"./routes/App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport rootReducer from \"./store\";\r\nimport \"whatwg-fetch\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\ninitReactFastclick();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AccountList\":\"AccountList_AccountList__fzzdL\",\"listtitle\":\"AccountList_listtitle__an34x\",\"seperate\":\"AccountList_seperate__32MUJ\",\"desc\":\"AccountList_desc__76a24\",\"name\":\"AccountList_name__3yWtT\",\"amount\":\"AccountList_amount__12Equ\",\"address\":\"AccountList_address__3rDjI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckMnemonic\":\"CheckMnemonic_CheckMnemonic__3cgfr\",\"desc\":\"CheckMnemonic_desc__1N4-b\",\"generatewords\":\"CheckMnemonic_generatewords__1CE0F\",\"writedesc\":\"CheckMnemonic_writedesc__2VIZD\",\"warn\":\"CheckMnemonic_warn__3OoAE\",\"allwords\":\"CheckMnemonic_allwords__1DJDf\",\"active\":\"CheckMnemonic_active__AJkRd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modalcontainer\":\"Modal_Modalcontainer__3YwMn\",\"rootModalDesktop\":\"Modal_rootModalDesktop__2ON17\",\"content\":\"Modal_content__3oLo5\",\"header\":\"Modal_header__p5YFj\",\"title\":\"Modal_title__3b0vO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tool\":\"Tooltip_tool__1HhyG\",\"large\":\"Tooltip_large__MoJ8z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectModeGetAccount\":\"SelectModeGetAccount_SelectModeGetAccount__GyPmx\",\"close\":\"SelectModeGetAccount_close__2jCcU\",\"bitx\":\"SelectModeGetAccount_bitx__8xHXu\",\"routerbutton\":\"SelectModeGetAccount_routerbutton__11RUO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SetPassword\":\"SetPassword_SetPassword__3jIZZ\",\"inputcontent\":\"SetPassword_inputcontent__3Iaa6\",\"desc\":\"SetPassword_desc__aGUBi\",\"button\":\"SetPassword_button__ejX43\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"success\":\"SignModal_success__2KYhk\",\"button\":\"SignModal_button__26Wda\",\"userInput\":\"SignModal_userInput__30Th3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AccountInfo\":\"AccountInfo_AccountInfo__3m8EK\",\"amount\":\"AccountInfo_amount__2_74u\",\"address\":\"AccountInfo_address__3D7Cd\",\"watchother\":\"AccountInfo_watchother__1HHSU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AccountDetail\":\"AccountDetail_AccountDetail__12iBL\",\"content\":\"AccountDetail_content__2b3N7\",\"selectmode\":\"AccountDetail_selectmode__1nW_k\",\"active\":\"AccountDetail_active___bR76\"};","import BigNumber from \"bignumber.js\";\r\nimport bitcoin from \"bitcoinjs-lib\";\r\n\r\nexport function enough(utxos, amount, fee) {\r\n  const total = utxos.reduce((result, utxo) => result + utxo.value, 0);\r\n\r\n  return total >= amount + fee;\r\n}\r\n\r\nfunction filterUnspentsByAmount(unspents, amount, fee) {\r\n  const nonZeroUnspents = unspents.filter(\r\n    utxo => new BigNumber(utxo.value) > 0\r\n  );\r\n\r\n  const result = [];\r\n  let sum = 0;\r\n  for (let utxo of nonZeroUnspents) {\r\n    result.push(utxo);\r\n    sum += utxo.value;\r\n    if (sum >= amount + fee) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return sum >= amount + fee ? result : [];\r\n}\r\n\r\nexport function compose(\r\n  utxos,\r\n  changeAddress,\r\n  targetAddress,\r\n  amount,\r\n  fee,\r\n  opReturnHex,\r\n  ecpair\r\n) {\r\n  const filteredUtxos = filterUnspentsByAmount(utxos, amount, fee);\r\n\r\n  // const network =\r\n  //   process.env.NODE_ENV === 'production' ? bitcoin.networks.bitcoin : bitcoin.networks.testnet;\r\n  const network = bitcoin.networks.testnet;\r\n  const txb = new bitcoin.TransactionBuilder(network);\r\n\r\n  let sum = 0;\r\n  for (let utxo of filteredUtxos) {\r\n    txb.addInput(utxo.mintTxid, utxo.mintIndex);\r\n    sum += utxo.value;\r\n  }\r\n\r\n  txb.addOutput(targetAddress, amount);\r\n  const change = sum - amount - fee;\r\n  if (change > 1000) {\r\n    txb.addOutput(changeAddress, change);\r\n  }\r\n\r\n  if (opReturnHex) {\r\n    const embed = bitcoin.payments.embed({\r\n      data: [Buffer.from(opReturnHex, \"hex\")]\r\n    });\r\n    txb.addOutput(embed.output, 0);\r\n  }\r\n\r\n  filteredUtxos.forEach((utxo, index) => {\r\n    txb.sign(index, ecpair);\r\n  });\r\n\r\n  const tx = txb.build();\r\n  return tx.toHex();\r\n}\r\n\r\nexport default compose;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clipboard\":\"Clipboard_clipboard__21VD6\",\"children\":\"Clipboard_children__1Btfq\",\"ellipse\":\"Clipboard_ellipse__1CQJs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SaveMnemonic\":\"SaveMnemonic_SaveMnemonic__ejnU-\",\"desc\":\"SaveMnemonic_desc__1RXIT\",\"generatewords\":\"SaveMnemonic_generatewords__3A-rp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImportAccount\":\"ImportAccount_ImportAccount__2WL_J\",\"selectmode\":\"ImportAccount_selectmode__yV4eo\",\"active\":\"ImportAccount_active__2Pny0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommonLayOut\":\"CommonLayOut_CommonLayOut__3vp86\",\"content\":\"CommonLayOut_content__3QXdm\"};"],"sourceRoot":""}